<h1>Response Curves Reference</h1>
<p class="note">Complete guide to designing and using response curves in considerations. Master curve patterns for optimal action scoring.</p>

<div class="page-meta">
  <span class="time"><i data-lucide="clock"></i> 15 minutes</span>
  <span class="difficulty"><i data-lucide="bar-chart-3"></i> Reference</span>
</div>

<h2>What Are Response Curves?</h2>

<p>Response curves map input values (0-1) to score contributions (0-100) in considerations. They define how strongly an input affects action selection.</p>

<h2>Common Curve Patterns</h2>

<h3>1. Linear Ascending</h3>
<pre><code>Pattern: (0,0) → (1,100)
Use: Proportional relationships
Example: "More health = higher score"

Health consideration:
  0.0 health → 0 score contribution
  0.5 health → 50 score contribution
  1.0 health → 100 score contribution</code></pre>

<h3>2. Linear Descending (Inverted)</h3>
<pre><code>Pattern: (0,100) → (1,0)
Use: Inverse relationships
Example: "Lower health = higher score" (for healing)

Healing consideration:
  0.0 health → 100 score (critical, need healing)
  0.5 health → 50 score
  1.0 health → 0 score (full, no healing needed)</code></pre>

<h3>3. Boolean (Required)</h3>
<pre><code>Pattern: (0,0) → (0.99,0) → (1,100)
Use: Hard requirements
Example: "Must have ammo to shoot"

HasAmmo consideration:
  0.0 (no ammo) → 0 score (can't shoot)
  1.0 (has ammo) → 100 score (can shoot)</code></pre>

<h3>4. Threshold (Activation Point)</h3>
<pre><code>Pattern: (0,0) → (0.5,0) → (0.5,100) → (1,100)
Use: Trigger at specific value
Example: "Retreat when health below 50%"

LowHealth consideration:
  0.0-0.49 health → 0 score
  0.5-1.0 health → 100 score (activated)</code></pre>

<h3>5. Bell Curve (Optimal Range)</h3>
<pre><code>Pattern: (0,0) → (0.5,100) → (1,0)
Use: Prefer middle range
Example: "Attack at medium range"

CombatDistance consideration:
  0.0 (too close) → 0 score
  0.5 (optimal range) → 100 score
  1.0 (too far) → 0 score</code></pre>

<h3>6. Exponential (Urgency)</h3>
<pre><code>Pattern: (0,0) → (0.7,30) → (0.9,70) → (1,100)
Use: Increasing urgency
Example: "Increasingly urgent as enemy approaches"

EnemyProximity consideration:
  0.0-0.7 → Low urgency (0-30)
  0.7-0.9 → Medium urgency (30-70)
  0.9-1.0 → High urgency (70-100)</code></pre>

<h2>Curve Design Guidelines</h2>

<table>
  <thead>
    <tr>
      <th>Curve Type</th>
      <th>When to Use</th>
      <th>Example Use Case</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Linear</strong></td>
      <td>Simple proportional relationship</td>
      <td>Health, Ammo, Distance</td>
    </tr>
    <tr>
      <td><strong>Boolean</strong></td>
      <td>Hard requirement (must have X)</td>
      <td>HasWeapon, HasTarget, IsInRange</td>
    </tr>
    <tr>
      <td><strong>Threshold</strong></td>
      <td>Activate at specific point</td>
      <td>LowHealth, HighThreat, CloseEnemy</td>
    </tr>
    <tr>
      <td><strong>Bell Curve</strong></td>
      <td>Optimal range exists</td>
      <td>CombatDistance, GroupSize</td>
    </tr>
    <tr>
      <td><strong>Exponential</strong></td>
      <td>Urgency increases dramatically</td>
      <td>DangerLevel, CriticalHealth</td>
    </tr>
    <tr>
      <td><strong>Stepped</strong></td>
      <td>Multiple discrete levels</td>
      <td>AlertLevel, PhaseTransition</td>
    </tr>
  </tbody>
</table>

<h2>Practical Examples</h2>

<h3>Attack Action Curves</h3>

<pre><code>Action: Attack Enemy

Consideration 1: HasVisibleEnemy
  Curve: (0,0) → (0.99,0) → (1,100)
  Reason: Boolean - must see enemy
  
Consideration 2: Health
  Curve: (0,0) → (0.3,50) → (1,100)
  Reason: Don't attack when critically hurt
  
Consideration 3: AmmoLevel
  Curve: (0,0) → (0.2,100) → (1,100)
  Reason: Need some ammo, but willing to attack with little
  
Consideration 4: DistanceToEnemy
  Curve: (0,30) → (0.3,100) → (0.6,100) → (1,20)
  Reason: Bell curve - prefer medium range</code></pre>

<h3>Retreat Action Curves</h3>

<pre><code>Action: Retreat from Combat

Consideration 1: Health
  Curve: (0,100) → (0.3,100) → (0.5,50) → (1,0)
  Reason: Inverted - retreat when hurt
  
Consideration 2: EnemyCount
  Curve: (0,0) → (0.3,50) → (0.6,100) → (1,100)
  Reason: Retreat when outnumbered
  
Consideration 3: HasCoverNearby
  Curve: (0,0) → (1,100)
  Reason: Prefer to retreat if cover available</code></pre>

<h2>Advanced Techniques</h2>

<h3>Weighted Curves</h3>

<p>Use consideration weights to balance importance:</p>

<pre><code>Critical consideration: Weight = 2.0
Normal consideration: Weight = 1.0
Minor consideration: Weight = 0.5

Final score = BaseScore × (Curve1^Weight1) × (Curve2^Weight2) × ...</code></pre>

<h3>Curve Combinations</h3>

<pre><code>Combine multiple curves for complex behavior:

Example: Aggressive vs Cautious Attack
  Aggressive personality:
    - High weight on HasEnemy (2.0)
    - Low weight on Health (0.5)
    
  Cautious personality:
    - Medium weight on HasEnemy (1.0)
    - High weight on Health (1.5)</code></pre>

<h2>Testing Your Curves</h2>

<h3>Curve Testing Checklist</h3>

<ul class="compact">
  <li>✓ Test at input = 0.0</li>
  <li>✓ Test at input = 0.5</li>
  <li>✓ Test at input = 1.0</li>
  <li>✓ Test edge cases (0.01, 0.99)</li>
  <li>✓ Verify expected behavior at each point</li>
  <li>✓ Use Gameplay Debugger to see live scores</li>
</ul>

<h2>Common Mistakes</h2>

<div class="callout tip">
  <span class="icon"><i data-lucide="alert-triangle"></i></span>
  <div>
    <strong>Avoid These Pitfalls:</strong>
    <ul class="compact">
      <li>❌ Too many curve points (keep it simple)</li>
      <li>❌ Flat curves that don't vary score</li>
      <li>❌ All curves linear (no variety)</li>
      <li>❌ Boolean for continuous values</li>
      <li>❌ Not testing edge cases</li>
    </ul>
  </div>
</div>

<h2>Next Steps</h2>

<div class="next-steps">
  <a class="button primary" href="#/docs/consideration-api">
    <i data-lucide="sliders"></i>
    Consideration API
  </a>
  <a class="button" href="#/docs/tuning">
    <i data-lucide="settings"></i>
    Tuning Guide
  </a>
</div>

<script>lucide.createIcons();</script>
